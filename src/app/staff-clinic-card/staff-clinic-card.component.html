<mat-card class="card-background max-w-80" appearance="outlined">
  <mat-card-header>
    <div mat-card-avatar class="card-header-image"></div>
    <div class="flex flex-col">
      <div class="flex flex-row-reverse">
        <button mat-icon-button aria-label="Edit Clinic" (click)="goEditClinic()">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button aria-label="Delete Clinic" (click)="openDialogDelete('500ms', '500ms')">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
      <mat-card-title style="direction: rtl;">{{clinic.clinicName}}</mat-card-title>
      <mat-card-subtitle style="direction: rtl;">{{clinic.clinicSubtitle}}</mat-card-subtitle>
    </div>
  </mat-card-header>
  <img mat-card-image src="assets/images/drhesham2.jpg" class="bg-cover" alt="sky">
  <mat-card-content>
    <p class="hidden">
    </p>
    <div class="flex flex-row-reverse flex-wrap gap-1 p-1">
      @if (clinic.weekScheduleTemplate?.SAT; as sats){
      <div class="grow flex flex-col items-center" style="flex-basis: 0%;">
        <p class="m-0 py-1 w-full bg-[#30eee2] text-center">السبت</p>
        <div class="bg-[#e5d4ed] flex flex-col items-center grow w-full">
          @for (timeInterval of sats; track timeInterval; let idx = $index) {
          @if(idx % 2 === 0) {
          <div class="flex justify-center content-center items-center">
            <p class="m-1 text-xs text-center">{{to12AmPM(timeInterval)}}</p>
            <p class="my-1 mx-2">-</p>
            <p class="m-1 text-xs text-center">{{to12AmPM(sats[idx+1])}}</p>
          </div>
          }
          }
        </div>
      </div>
      }
      @if (clinic.weekScheduleTemplate?.SUN; as suns){
      <div class="bg-[#e5d4ed] grow flex flex-col items-center" style="flex-basis: 0%;">
        <p class="m-0 py-1 w-full bg-[#30eee2] text-center">الأحد</p>
        <div class="bg-[#e5d4ed] flex flex-col items-center grow w-full">
          @for (timeInterval of suns; track timeInterval; let idx = $index) {
          @if(idx % 2 === 0) {
          <div class="flex justify-center content-center items-center">
            <p class="m-1 text-xs text-center">{{to12AmPM(timeInterval)}}</p>
            <p class="my-1 mx-2">-</p>
            <p class="m-1 text-xs text-center">{{to12AmPM(suns[idx+1])}}</p>
          </div>
          }
          }
        </div>
      </div>
      }
      @if (clinic.weekScheduleTemplate?.MON; as mons){
      <div class="bg-[#e5d4ed] grow flex flex-col items-center" style="flex-basis: 0%;">
        <p class="m-0 py-1 w-full bg-[#30eee2] text-center">الإثنين</p>
        <div class="bg-[#e5d4ed] flex flex-col items-center grow w-full">
          @for (timeInterval of mons; track timeInterval; let idx = $index) {
          @if(idx % 2 === 0) {
          <div class="flex justify-center content-center items-center">
            <p class="m-1 text-xs text-center">{{to12AmPM(timeInterval)}}</p>
            <p class="my-1 mx-2">-</p>
            <p class="m-1 text-xs text-center">{{to12AmPM(mons[idx+1])}}</p>
          </div>
          }
          }
        </div>
      </div>
      }
      @if (clinic.weekScheduleTemplate?.TUE; as tues){
      <div class="bg-[#e5d4ed] grow flex flex-col items-center" style="flex-basis: 0%;">
        <p class="m-0 py-1 w-full bg-[#30eee2] text-center">الثلاثاء</p>
        <div class="bg-[#e5d4ed] flex flex-col items-center grow w-full">
          @for (timeInterval of tues; track timeInterval; let idx = $index) {
          @if(idx % 2 === 0) {
          <div class="flex justify-center content-center items-center">
            <p class="m-1 text-xs text-center">{{to12AmPM(timeInterval)}}</p>
            <p class="my-1 mx-2">-</p>
            <p class="m-1 text-xs text-center">{{to12AmPM(tues[idx+1])}}</p>
          </div>
          }
          }
        </div>
      </div>
      }
      @if (clinic.weekScheduleTemplate?.WED; as weds){
      <div class="bg-[#e5d4ed] grow flex flex-col items-center" style="flex-basis: 0%;">
        <p class="m-0 py-1 w-full bg-[#30eee2] text-center">الأربعاء</p>
        <div class="bg-[#e5d4ed] flex flex-col items-center grow w-full">
          @for (timeInterval of weds; track timeInterval; let idx = $index) {
          @if(idx % 2 === 0) {
          <div class="flex justify-center content-center items-center">
            <p class="m-1 text-xs text-center">{{to12AmPM(timeInterval)}}</p>
            <p class="my-1 mx-2">-</p>
            <p class="m-1 text-xs text-center">{{to12AmPM(weds[idx+1])}}</p>
          </div>
          }
          }
        </div>
      </div>
      }
      @if (clinic.weekScheduleTemplate?.THU; as thus){
      <div class="bg-[#e5d4ed] grow flex flex-col items-center" style="flex-basis: 0%;">
        <p class="m-0 py-1 w-full bg-[#30eee2] text-center">الخميس</p>
        <div class="bg-[#e5d4ed] flex flex-col items-center grow w-full">
          @for (timeInterval of thus; track timeInterval; let idx = $index) {
          @if(idx % 2 === 0) {
          <div class="flex justify-center content-center items-center">
            <p class="m-1 text-xs text-center">{{to12AmPM(timeInterval)}}</p>
            <p class="my-1 mx-2">-</p>
            <p class="m-1 text-xs text-center">{{to12AmPM(thus[idx+1])}}</p>
          </div>
          }
          }
        </div>
      </div>
      }
      @if (clinic.weekScheduleTemplate?.FRI; as fris){
      <div class="bg-[#e5d4ed] grow flex flex-col items-center" style="flex-basis: 0%;">
        <p class="m-0 py-1 w-full bg-[#30eee2] text-center">الجمعة</p>
        <div class="bg-[#e5d4ed] flex flex-col items-center grow w-full">
          @for (timeInterval of fris; track timeInterval; let idx = $index) {
          @if(idx % 2 === 0) {
          <div class="flex justify-center content-center items-center">
            <p class="m-1 text-xs text-center">{{to12AmPM(timeInterval)}}</p>
            <p class="my-1 mx-2">-</p>
            <p class="m-1 text-xs text-center">{{to12AmPM(fris[idx+1])}}</p>
          </div>
          }
          }
        </div>
      </div>
      }

    </div>
  </mat-card-content>
  <mat-card-actions>
    <div class="flex flex-col">
      <button mat-raised-button color="primary" disabled>إحجز</button>
      <p>Fee:&nbsp;<span class="text-sm">{{clinic.fee}}</span></p>
    </div>
    <!--<a mat-icon-button href="geo:124.028582,-29.201930" target="_blank">-->
    <p class="text-xs" dir="rtl">{{clinic.clinicAddress}}</p>
    @if(clinic.geoAddress) {
    <a mat-icon-button [href]="'maps:'+clinic.geoAddress" class="clinic-location">
      <mat-icon class="text-[#3f51b5]">location_on</mat-icon>
    </a>
    }
  </mat-card-actions>
</mat-card>

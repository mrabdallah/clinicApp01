<div class="m-0">
  <img src="assets/images/sasun-bughdaryan-RlIppR1I3E8-unsplash.jpg" class="object-cover h-64 w-screen">

  <div class="flex flex-col	gap-y-2">

    <!-- Add Appointment Button -->
    <div class="fixed right-10 bottom-10 z-10">
      <button mat-icon-button aria-label="Add Appointment"
        class="rounded-full flex items-center justify-center p-2 scale-150"
        (click)="openNewAppointmentDialog('500ms', '500ms')" style="background: hsl(198.67deg 97.57% 48.43% / 40%);">
        <mat-icon>format_list_bulleted_add</mat-icon>
      </button>
    </div>
    
    <app-clock></app-clock>

    <!-- -------------------- progress-container -------------------- -->
    <div class="text-base my-4 mx-12 p-4 rounded-2xl flex"
      style="background: linear-gradient(90deg, hsl(180deg 28% 86% / 90%), hsl(190deg 31.03% 88.63%));">
      <div class="w-full self-center">
        <div class="flex justify-between">
          <p>12:00 PM</p>
          <p>?</p>
          <p>04:00 PM</p>
        </div>
        <mat-progress-bar class="prg-bar" mode="determinate" [value]="firstPeriodValue"></mat-progress-bar>
      </div>
      <span style="width: 15mm;"></span>
      <div class="w-full self-center">
        <div class="flex justify-between">
          <p>05:00</p>
          <p>?</p>
          <p>10:00 PM</p>
        </div>
        <mat-progress-bar class="prg-bar" mode="determinate" [value]="secondPeriodValue"></mat-progress-bar>
      </div>
    </div>


    <!-- ------------------------------------------ Entries ------------------------------------------ -->
    <div cdkDropList (cdkDropListDropped)="drop($event)"
      class="rounded-2xl xs:mx-2 lg:mx-80 my-4 px-1 bg-white patient-schedule-entries">

      @if (todaySchedule.length > 0) {

        <!-- @for (patient of patients; track patient; let idx = $index) {
        <div class="patient-schedule-entry-container" cdkDrag>
          <div class="patient-schedule-entry-placeholder" *cdkDragPlaceholder></div>

          @if (idx > 0) {
          <patient-schedule-entry [patient]="patient"></patient-schedule-entry>
          } @else {
          <patient-schedule-current-entry [patient]="patient"></patient-schedule-current-entry>
          }
        </div>
        } -->

        @for (appointment of todaySchedule; track appointment; let idx = $index) {
          <div class="patient-schedule-entry-container" cdkDrag>
            <div class="patient-schedule-entry-placeholder" *cdkDragPlaceholder></div>
      
            @if (idx > 0) {
              <patient-schedule-entry [appointment]="appointment"></patient-schedule-entry>
            } @else {
              <patient-schedule-current-entry [appointment]="appointment"></patient-schedule-current-entry>
            }
          </div>
        }
      } @else {
        <p>-</p>
      }

    </div>
  </div>
</div>